import{createElement as e}from"../../../external/preact/dist/preact.js";import{UIElement as t}from"../../internal/UIElement/UIElement.js";import s from"../../internal/OpenInvoice/OpenInvoice.js";import i from"../../../core/Errors/SRPanelProvider.js";class r extends t{get isValid(){return!!this.state.isValid}formatProps(e){const t=e.countryCode||e.data?.billingAddress?.countryCode;return{...e,allowedCountries:[t],visibility:{...r.defaultProps.visibility,...e.visibility},data:{...e.data,billingAddress:{...e.data.billingAddress,country:t},deliveryAddress:{...e.data.deliveryAddress,country:t}}}}formatData(){const{data:e={}}=this.state,{companyDetails:t={},personalDetails:s={},billingAddress:i,deliveryAddress:r,bankAccount:n}=e;return{paymentMethod:{type:this.constructor.type},...s,...t,...n&&{bankAccount:{iban:n.ibanNumber,ownerName:n.ownerName,countryCode:n.countryCode}},...i&&{billingAddress:i},...(r||i)&&{deliveryAddress:r||i}}}componentToRender(){return e(i,{srPanel:this.props.modules.srPanel},e(s,{setComponentRef:this.setComponentRef,...this.props,...this.state,onChange:this.setState,onSubmit:this.submit,payButton:this.payButton}))}}var n,a,o;o={onChange:()=>{},data:{companyDetails:{},personalDetails:{},billingAddress:{},deliveryAddress:{},bankAccount:{}},visibility:{companyDetails:"hidden",personalDetails:"editable",billingAddress:"editable",deliveryAddress:"editable",bankAccount:"hidden"}},(a="defaultProps")in(n=r)?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o;export{r as default};
//# sourceMappingURL=OpenInvoiceContainer.js.map
