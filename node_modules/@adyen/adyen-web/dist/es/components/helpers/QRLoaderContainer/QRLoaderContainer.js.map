{"version":3,"file":"QRLoaderContainer.js","sources":["../../../../../src/components/helpers/QRLoaderContainer/QRLoaderContainer.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../../internal/UIElement/UIElement';\nimport { QRLoader } from '../../internal/QRLoader';\nimport RedirectButton from '../../internal/RedirectButton';\nimport SRPanelProvider from '../../../core/Errors/SRPanelProvider';\nimport { QRLoaderConfiguration } from './types';\n\nclass QRLoaderContainer<T extends QRLoaderConfiguration = QRLoaderConfiguration> extends UIElement<T> {\n    // Using the generic here allow to fully extend the QRLoaderContainer (including it's props)\n    protected static defaultProps = {\n        qrCodeImage: '',\n        amount: null,\n        paymentData: null,\n        onError: () => {}\n    };\n\n    formatData() {\n        return {\n            paymentMethod: {\n                type: this.type,\n                ...this.state.data\n            }\n        };\n    }\n\n    get isValid() {\n        return true;\n    }\n\n    // Makes possible to extend the final QR code step\n    public renderQRCode() {\n        return (\n            <SRPanelProvider srPanel={this.props.modules.srPanel}>\n                <QRLoader\n                    {...this.props}\n                    delay={this.props.delay}\n                    countdownTime={this.props.countdownTime}\n                    instructions={this.props.instructions}\n                    type={this.constructor['type']}\n                    brandLogo={this.props.brandLogo || this.icon}\n                    onComplete={this.onComplete}\n                    onActionHandled={this.onActionHandled}\n                    brandName={this.displayName}\n                    onSubmitAnalytics={this.submitAnalytics}\n                />\n            </SRPanelProvider>\n        );\n    }\n\n    protected override componentToRender(): h.JSX.Element {\n        if (this.props.paymentData) {\n            return this.renderQRCode();\n        }\n\n        if (this.props.showPayButton) {\n            return (\n                <RedirectButton\n                    showPayButton={this.props.showPayButton}\n                    name={this.displayName}\n                    onSubmit={this.submit}\n                    payButton={this.payButton}\n                    ref={ref => {\n                        this.componentRef = ref;\n                    }}\n                />\n            );\n        }\n\n        return null;\n    }\n}\n\nexport default QRLoaderContainer;\n"],"names":["QRLoaderContainer","UIElement","formatData","paymentMethod","type","this","state","data","isValid","renderQRCode","h","SRPanelProvider","srPanel","props","modules","QRLoader","delay","countdownTime","instructions","constructor","brandLogo","icon","onComplete","onActionHandled","brandName","displayName","onSubmitAnalytics","submitAnalytics","componentToRender","paymentData","showPayButton","RedirectButton","name","onSubmit","submit","payButton","ref","componentRef","qrCodeImage","amount","onError","defaultProps"],"mappings":"umBAOA,MAAMA,UAAmFC,EASrFC,UAAAA,GACI,MAAO,CACHC,cAAe,CACXC,KAAMC,KAAKD,QACRC,KAAKC,MAAMC,MAG1B,CAEA,WAAIC,GACA,OAAO,CACX,CAGOC,YAAAA,GACH,OACIC,EAACC,EAAAA,CAAgBC,QAASP,KAAKQ,MAAMC,QAAQF,SACzCF,EAACK,EAAAA,IACOV,KAAKQ,MACTG,MAAOX,KAAKQ,MAAMG,MAClBC,cAAeZ,KAAKQ,MAAMI,cAC1BC,aAAcb,KAAKQ,MAAMK,aACzBd,KAAMC,KAAKc,YAAY,KACvBC,UAAWf,KAAKQ,MAAMO,WAAaf,KAAKgB,KACxCC,WAAYjB,KAAKiB,WACjBC,gBAAiBlB,KAAKkB,gBACtBC,UAAWnB,KAAKoB,YAChBC,kBAAmBrB,KAAKsB,kBAIxC,CAEmBC,iBAAAA,GACf,OAAIvB,KAAKQ,MAAMgB,YACJxB,KAAKI,eAGZJ,KAAKQ,MAAMiB,cAEPpB,EAACqB,EAAAA,CACGD,cAAezB,KAAKQ,MAAMiB,cAC1BE,KAAM3B,KAAKoB,YACXQ,SAAU5B,KAAK6B,OACfC,UAAW9B,KAAK8B,UAChBC,IAAKA,IACD/B,KAAKgC,aAAeD,KAM7B,IACX,cA5DgC,CAC5BE,YAAa,GACbC,OAAQ,KACRV,YAAa,KACbW,QAAS,WAJIC,oBAFfzC"}