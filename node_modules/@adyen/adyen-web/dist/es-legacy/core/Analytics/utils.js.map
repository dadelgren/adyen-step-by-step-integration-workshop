{"version":3,"file":"utils.js","sources":["../../../../src/core/Analytics/utils.ts"],"sourcesContent":["import { errorCodeMapping } from './constants';\nimport { digitsOnlyFormatter } from '../../utils/Formatters/formatters';\nimport { ERROR_FIELD_REQUIRED, ERROR_INVALID_FORMAT_EXPECTS } from '../Errors/constants';\nimport type { AnalyticsOptions } from './types';\n\nexport const mapErrorCodesForAnalytics = (errorCode: string, target: string) => {\n    // Some of the more generic error codes required combination with target to retrieve a specific code\n    if (errorCode === ERROR_FIELD_REQUIRED || errorCode === ERROR_INVALID_FORMAT_EXPECTS) {\n        return errorCodeMapping[`${errorCode}.${target}`] ?? errorCode;\n    }\n\n    let errCode = errorCodeMapping[errorCode] ?? errorCode;\n\n    // If errCode isn't now a number - then we just need to remove any non-digits\n    // since the correct error code is already contained within the string e.g. securedField related errors\n    if (isNaN(Number(errCode))) {\n        errCode = digitsOnlyFormatter(errCode);\n    }\n\n    return errCode;\n};\n\nexport const processAnalyticsData = (analyticsData?: AnalyticsOptions['analyticsData']): AnalyticsOptions['analyticsData'] => {\n    const ALLOWED_ANALYTICS_DATA = ['applicationInfo', 'checkoutAttemptId'];\n\n    if (!analyticsData) return {};\n\n    return Object.keys(analyticsData).reduce((acc, prop) => {\n        if (ALLOWED_ANALYTICS_DATA.includes(prop)) acc[prop] = analyticsData[prop];\n        return acc;\n    }, {});\n};\n"],"names":["mapErrorCodesForAnalytics","errorCode","target","errorCodeMapping","ERROR_FIELD_REQUIRED","ERROR_INVALID_FORMAT_EXPECTS","errCode","isNaN","Number","digitsOnlyFormatter","processAnalyticsData","analyticsData","ALLOWED_ANALYTICS_DATA","Object","keys","reduce","acc","prop","includes"],"mappings":"6NAKO,MAAMA,EAA4B,CAACC,EAAmBC,KAG9CC,IAAAA,EAGGA,EAJd,GAAIF,IAAcG,GAAwBH,IAAcI,EACpD,OAAiD,QAA1CF,EAAAA,EAAiB,GAAGF,KAAaC,YAAjCC,IAAAA,EAAAA,EAA8CF,EAGzD,IAAIK,EAAqC,QAA3BH,EAAAA,EAAiBF,cAAjBE,EAAAA,EAA+BF,EAQ7C,OAJIM,MAAMC,OAAOF,MACbA,EAAUG,EAAoBH,IAG3BA,GAGEI,EAAwBC,IACjC,MAAMC,EAAyB,CAAC,kBAAmB,qBAEnD,OAAKD,EAEEE,OAAOC,KAAKH,GAAeI,OAAO,CAACC,EAAKC,KACvCL,EAAuBM,SAASD,KAAOD,EAAIC,GAAQN,EAAcM,IAC9DD,GACR,CAAA,GALwB,CAAA"}